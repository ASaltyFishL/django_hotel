# Django酒店管理系统自动化测试文档

## 概述
本测试脚本使用Selenium WebDriver对酒店管理系统进行自动化测试，覆盖了系统的主要功能模块，包括登录、员工管理、顾客管理、客房管理、餐厅管理、会员管理和停车场管理等。

## 环境准备

### 1. 安装测试依赖

```bash
# 安装测试专用依赖
pip install -r requirements_test.txt
```

### 2. 下载EdgeDriver

Selenium需要与您的Edge浏览器版本匹配的EdgeDriver。请按照以下步骤操作：

1. 检查您的Edge浏览器版本（在Edge中输入`edge://settings/help`）
2. 访问 [EdgeDriver下载页面](https://developer.microsoft.com/en-us/microsoft-edge/tools/webdriver/)
3. 下载与您的Edge版本匹配的EdgeDriver
4. 将下载的msedgedriver.exe文件放置在一个已添加到系统PATH的目录中，或者在测试脚本中指定其路径

## 运行测试

### 1. 确保Django服务器正在运行

在运行测试之前，请确保Django开发服务器已经启动：

```bash
python manage.py runserver
```

### 2. 运行自动化测试

```bash
python hotel_test.py
```

## 测试脚本说明

### 测试范围

脚本包含以下测试用例：

1. **登录测试**：测试系统登录功能
2. **员工管理测试**：测试员工信息的添加和查询
3. **顾客管理测试**：测试顾客信息的添加
4. **客房管理测试**：测试客房信息的添加
5. **餐厅管理测试**：测试菜品信息的添加
6. **会员管理测试**：测试会员信息的添加
7. **停车场管理测试**：测试停车场信息的添加

### 测试数据

脚本会自动生成随机测试数据，以避免数据重复问题。测试数据包括：

- 随机ID（10000-99999）
- 随机用户名（测试用户+随机ID）
- 随机房间号（100-999）
- 随机菜品名（测试菜品+随机ID）

### 注意事项

1. 测试脚本默认使用管理员账号`admin`/`admin`进行登录，请确保该账号存在且可用
2. 测试中假设存在ID为1的服务员和ID为2的厨师，请确保这些记录存在或根据实际情况修改测试脚本
3. 测试过程中会在系统中创建临时数据，测试完成后可能需要手动清理
4. 如果您的Django服务器运行在非默认端口，请修改脚本中的`self.base_url`变量

## 自定义测试

如果您需要扩展测试覆盖范围或修改测试逻辑，可以修改`hotel_test.py`文件：

1. 添加新的测试方法，遵循`test_xxx`命名规则
2. 修改现有的测试数据生成逻辑
3. 调整等待时间或定位方式以适应页面变化

## 常见问题解决

- **EdgeDriver版本不匹配**：下载与您当前Edge浏览器版本匹配的EdgeDriver
- **元素定位失败**：检查页面元素是否有变化，更新定位器（XPath、ID等）
- **测试运行超时**：增加等待时间或检查网络连接
- **登录失败**：确认用户名和密码正确，并检查登录页面是否有变化

## 测试结果查看

测试运行时，控制台会输出测试进度和结果：
- 通过的测试会显示"XXX测试通过"的消息
- 失败的测试会显示具体的失败原因

测试完成后，您也可以查看浏览器中的实际操作过程，以便更好地理解测试执行情况。